<div
  class="headertop"
  style="background-color: rgb(41, 41, 41); padding-bottom: 120px"
>
  <div
    style="
      padding-top: 100px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 50px;
      font-weight: 800;
      letter-spacing: 1px;
    "
  >
    Order
  </div>
</div>

<main>
  <section class="cart section--lg container">
    <div class="table__container">
      <table class="table">
        <thead>
          <tr>
            <th class="trnew">Product</th>
            <th class="trnew">Name</th>
            <th class="trnew">Total</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>
              <img [src]="data.product.image" alt="" class="table__img" />
            </td>
            <td>
              <h3 class="table__title">
                {{ data.product.title }} x {{ data.quantity }}
                <span *ngIf="data.gifts.length">
                  <span *ngFor="let gif of data.gifts">
                    <span class="w-100">+</span>
                    <span class="w-100"
                      >{{ gif.gift.name }} x {{ gif.quantity }}</span
                    >
                  </span>
                </span>
              </h3>
            </td>
            <td>
              <span class="table__price">${{ data.totalAmount }} </span>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <p *ngIf="data.orderId">
      <strong>Delivery Status</strong>: {{ data.deliveryStatus }}
    </p>

    <p *ngIf="!data.orderId">
      <strong>Delivery Status</strong>: Payment Bending

      <a (click)="nav()" class="btns--sm">Checkout Now</a>
    </p>

    <a
      class="btns"
      *ngIf="data.tracking_id"
      href="https://jabezraja31119979a.trackingmore.org/{{
        data.tracking_id
      }}?page=tracking-page&mode=iframe"
    >
      Track
    </a>

    <div *ngIf="trackingInfo">
      <h2>Tracking Information</h2>
      <p>Tracking Number: {{ trackingInfo.tracking_number }}</p>
      <p>Status: {{ trackingInfo.tracking_status.status }}</p>

      <h3>Tracking History</h3>
      <div class="tracking-history">
        <div
          class="card"
          *ngFor="let event of trackingInfo.tracking_status.tracking_history"
        >
          <div class="card-body">
            <h5 class="card-title">Status: {{ event.status }}</h5>
            <p class="card-text">Status Details: {{ event.status_details }}</p>
            <p class="card-text">Location: {{ event.location }}</p>
            <p class="card-text">Destination: {{ event.destination }}</p>
            <p class="card-text">Timestamp: {{ event.timestamp }}</p>
          </div>
        </div>
      </div>
    </div>
  </section>
</main>
